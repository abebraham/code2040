<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("button").click(function(){
        $.post("http://challenge.code2040.org/api/haystack",
        {
          token: "699bcecddeae997b3704500ade8ca863",
        },
        function(res){
						validate(res.needle, res.haystack);
        });
    });
});

function validate(need, hay) {
	var index = hay.indexOf(need);
	$.post("http://challenge.code2040.org/api/haystack/validate",
	{
		token: "699bcecddeae997b3704500ade8ca863",
		needle: index
	},
	function(response){
		alert(response);
	});
}
	
</script>
</head>
<body>

<button>Send an HTTP POST request to a page and get the result back</button>

</body>
</html>